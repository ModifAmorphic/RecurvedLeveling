scn rcvShowAttributeProtectionMessage

int i
int attributeCode
string_var attributeName
string_var attributeNames
string_var attributeReplacer
string_var dispMessage
float useIncMod
array_var penalizedAttributes

Begin _Function { penalizedAttributes }
	while (i < ar_Size penalizedAttributes)
		let attributeCode := penalizedAttributes[i]["code"]
		let useIncMod := penalizedAttributes[i]["useIncModifier"]
		let attributeName := ActorValueToStringC attributeCode
		if (i == 0)
			let attributeNames := sv_Construct "%z" attributeName
		else
			sv_Replace " and |, " attributeName
			let attributeNames := sv_Construct "%z and %z" attributeNames attributeName
		endif
		let i += 1
	loop
	let attributeReplacer := sv_Construct "{{AttributeName}}|%z" attributeNames
	;let dispMessage := sv_Construct "%z" Recurved.AttributeProtectionMessage
	sv_Replace $attributeReplacer dispMessage
	if (useIncMod == 0)
		let dispMessage := sv_Construct "Experience gains are disabled for %z major skills" attributeNames
	elseif (useIncMod < 2)
		let dispMessage := sv_Construct "Learning %z major skills is slightly difficult" attributeNames
		; let difficultyReplacer := sv_Construct "{{Difficulty}}|slightly more difficult than normal"
	elseif (useIncMod < 4)
		let dispMessage := sv_Construct "Learning %z major skills is challenging" attributeNames
		; let difficultyReplacer := sv_Construct "{{Difficulty}}|considerably more difficult than normal"
	elseif (useIncMod < 8)
		let dispMessage := sv_Construct "Training %z major skills is extremely challenging" attributeNames
		; let difficultyReplacer := sv_Construct "{{Difficulty}}|significantly more difficult than normal"
	else
		let dispMessage := sv_Construct "Learning %z major skills is insurmountable" attributeNames
		;let difficultyReplacer := sv_Construct "{{Difficulty}}|impossible"
	endif
	; sv_Replace $difficultyReplacer dispMessage
	Message $dispMessage
	sv_Destruct attributeName
	sv_Destruct attributeNames
	sv_Destruct attributeReplacer
	sv_Destruct dispMessage
End